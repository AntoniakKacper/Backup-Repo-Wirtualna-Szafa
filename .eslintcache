[{"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\index.tsx":"1","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\App.tsx":"2","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\pages\\Register\\Register.tsx":"3","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\pages\\Login\\Login.tsx":"4","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\Header.tsx":"5","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\elements\\Button.tsx":"6","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\styles\\GlobalStyle.tsx":"7","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\styles\\shared-style.tsx":"8","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\config\\theme.tsx":"9","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\pages\\ForgotPassword\\ForgotPassword.tsx":"10","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\elements\\Links.tsx":"11","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\config\\ApplicationRoutes.tsx":"12","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\AuthProvider.tsx":"13","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\database\\firebase.tsx":"14","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\database\\firebaseConfig.ts":"15","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\pages\\Home\\Home.tsx":"16","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\elements\\MyForm.tsx":"17","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\elements\\MyField.tsx":"18"},{"size":285,"mtime":1612644755110,"results":"19","hashOfConfig":"20"},{"size":151,"mtime":1612788556388,"results":"21","hashOfConfig":"20"},{"size":6163,"mtime":1612812044612,"results":"22","hashOfConfig":"20"},{"size":5445,"mtime":1612811398720,"results":"23","hashOfConfig":"20"},{"size":449,"mtime":1611694992980,"results":"24","hashOfConfig":"20"},{"size":145,"mtime":1612785178130,"results":"25","hashOfConfig":"20"},{"size":843,"mtime":1611780994791,"results":"26","hashOfConfig":"20"},{"size":152,"mtime":1611688907845,"results":"27","hashOfConfig":"20"},{"size":299,"mtime":1612704380613,"results":"28","hashOfConfig":"20"},{"size":172,"mtime":1611781617334,"results":"29","hashOfConfig":"20"},{"size":290,"mtime":1611783544689,"results":"30","hashOfConfig":"20"},{"size":1177,"mtime":1612648673632,"results":"31","hashOfConfig":"20"},{"size":1101,"mtime":1612702322004,"results":"32","hashOfConfig":"20"},{"size":387,"mtime":1612647796081,"results":"33","hashOfConfig":"20"},{"size":790,"mtime":1612699022199,"results":"34","hashOfConfig":"20"},{"size":813,"mtime":1612709527203,"results":"35","hashOfConfig":"20"},{"size":1752,"mtime":1613136234744,"results":"36","hashOfConfig":"20"},{"size":1758,"mtime":1613135492592,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"1msjtp",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"40"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\index.tsx",[],["76","77"],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\App.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\pages\\Register\\Register.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\pages\\Login\\Login.tsx",["78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93"],"//import Button from \"../../elements/Button\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport clsx from \"clsx\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { BrowserRouter as Router, Link, useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../AuthProvider\";\r\nimport { styled } from \"../../../config/theme\";\r\nimport { auth, database } from \"../../../database/firebase\";\r\nimport { flexCenterXY } from \"../../../styles/shared-style\";\r\nimport Links from \"../../elements/Links\";\r\nimport { MyForm } from \"../../elements/MyForm\";\r\nimport { Header } from \"../../Header\";\r\n\r\ninterface UserData {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  withoutLabel: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  textField: {\r\n    width: \"25ch\",\r\n  },\r\n}));\r\n\r\nconst Wrapper = styled.div`\r\n  ${flexCenterXY}\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  ${flexCenterXY}\r\n  width: 100%;\r\n  flex-direction: column;\r\n  padding-top: 150px;\r\n  padding-bottom: 100px;\r\n`;\r\n\r\nexport const Login: React.FC = () => {\r\n  const classes = useStyles();\r\n  const authContext = useContext(AuthContext);\r\n  const { loadingAuthState } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const [values, setValues] = useState<UserData>({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const handleChange = (event: any) => {\r\n    setValues((values) => ({\r\n      ...values,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (event: any) => {\r\n    event.preventDefault();\r\n    auth\r\n      .signInWithEmailAndPassword(values.email, values.password)\r\n      .then((userCredentials) => {\r\n        authContext.setCurrentUser(userCredentials);\r\n        history.push(\"/home\");\r\n      })\r\n      .catch((error) => console.log(error.message));\r\n  };\r\n\r\n  useEffect(() => {\r\n    auth.getRedirectResult().then((result) => {\r\n      if (!result || !result.user || !auth.currentUser) {\r\n        return;\r\n      }\r\n\r\n      return setUserProfile()\r\n        .then(() => {\r\n          history.push(\"/home\");\r\n        })\r\n        .catch((error) => console.log(error.message));\r\n    });\r\n  }, []);\r\n\r\n  const setUserProfile = async () => {\r\n    if (await isUserExisits()) {\r\n      return;\r\n    }\r\n\r\n    const user = auth.currentUser!;\r\n    console.log(user);\r\n    database\r\n      .collection(\"Users\")\r\n      .doc(user.uid)\r\n      .set({\r\n        //Sprawdzic czy istnieje juz taka nazwa uzytkownika\r\n        username: user.displayName,\r\n      })\r\n      .then(() => {\r\n        console.log(\"Username saved\");\r\n        return;\r\n      })\r\n      .catch((error) => console.log(error.message));\r\n  };\r\n\r\n  const isUserExisits = async () => {\r\n    const doc = await database\r\n      .collection(\"Users\")\r\n      .doc(auth.currentUser!.uid)\r\n      .get();\r\n    return doc.exists;\r\n  };\r\n\r\n  if (loadingAuthState) {\r\n    return (\r\n      <div>\r\n        <LinearProgress color=\"secondary\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Wrapper>\r\n        <MyForm\r\n          onSubmit={({ email, password }) => {\r\n            console.log(email, password);\r\n          }}\r\n        />\r\n        {/* <Form onSubmit={handleSubmit}>\r\n          <FormControl className={clsx(classes.margin, classes.textField)}>\r\n            <InputLabel color=\"secondary\">Email</InputLabel>\r\n            <Input\r\n              color=\"secondary\"\r\n              type=\"email\"\r\n              placeholder=\"email@email.com\"\r\n              name=\"email\"\r\n              onChange={handleChange}\r\n            />\r\n          </FormControl>\r\n\r\n          <FormControl className={clsx(classes.margin, classes.textField)}>\r\n            <InputLabel color=\"secondary\">Password</InputLabel>\r\n            <Input\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              value={values.password}\r\n              name=\"password\"\r\n              onChange={handleChange}\r\n              color=\"secondary\"\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  {\" \"}\r\n                  <IconButton onClick={() => setShowPassword(!showPassword)}>\r\n                    {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n            />\r\n          </FormControl>\r\n\r\n          <Button variant=\"outlined\" color=\"secondary\" type=\"submit\">\r\n            Sign in\r\n          </Button>\r\n        </Form> */}\r\n\r\n        <Links>\r\n          <Link to=\"/register\">Register</Link>\r\n          <Link to=\"/forgotPassword\">Forgot Password?</Link>\r\n        </Links>\r\n      </Wrapper>\r\n    </>\r\n  );\r\n};\r\n","D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\Header.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\elements\\Button.tsx",["94"],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\styles\\GlobalStyle.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\styles\\shared-style.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\config\\theme.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\pages\\ForgotPassword\\ForgotPassword.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\elements\\Links.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\config\\ApplicationRoutes.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\AuthProvider.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\database\\firebase.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\database\\firebaseConfig.ts",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\pages\\Home\\Home.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\elements\\MyForm.tsx",[],"D:\\SZKOŁA\\Praca licencjacka\\testowe aplikacje\\typescript-app\\src\\components\\elements\\MyField.tsx",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":2,"column":8,"nodeType":"101","messageId":"102","endLine":2,"endColumn":14},{"ruleId":"99","severity":1,"message":"103","line":3,"column":8,"nodeType":"101","messageId":"102","endLine":3,"endColumn":19},{"ruleId":"99","severity":1,"message":"104","line":4,"column":8,"nodeType":"101","messageId":"102","endLine":4,"endColumn":18},{"ruleId":"99","severity":1,"message":"105","line":5,"column":8,"nodeType":"101","messageId":"102","endLine":5,"endColumn":13},{"ruleId":"99","severity":1,"message":"106","line":6,"column":8,"nodeType":"101","messageId":"102","endLine":6,"endColumn":22},{"ruleId":"99","severity":1,"message":"107","line":7,"column":8,"nodeType":"101","messageId":"102","endLine":7,"endColumn":18},{"ruleId":"99","severity":1,"message":"108","line":10,"column":8,"nodeType":"101","messageId":"102","endLine":10,"endColumn":18},{"ruleId":"99","severity":1,"message":"109","line":11,"column":8,"nodeType":"101","messageId":"102","endLine":11,"endColumn":21},{"ruleId":"99","severity":1,"message":"110","line":12,"column":8,"nodeType":"101","messageId":"102","endLine":12,"endColumn":12},{"ruleId":"99","severity":1,"message":"111","line":50,"column":7,"nodeType":"101","messageId":"102","endLine":50,"endColumn":11},{"ruleId":"99","severity":1,"message":"112","line":59,"column":9,"nodeType":"101","messageId":"102","endLine":59,"endColumn":16},{"ruleId":"99","severity":1,"message":"113","line":69,"column":10,"nodeType":"101","messageId":"102","endLine":69,"endColumn":22},{"ruleId":"99","severity":1,"message":"114","line":69,"column":24,"nodeType":"101","messageId":"102","endLine":69,"endColumn":39},{"ruleId":"99","severity":1,"message":"115","line":71,"column":9,"nodeType":"101","messageId":"102","endLine":71,"endColumn":21},{"ruleId":"99","severity":1,"message":"116","line":78,"column":9,"nodeType":"101","messageId":"102","endLine":78,"endColumn":21},{"ruleId":"117","severity":1,"message":"118","line":101,"column":6,"nodeType":"119","endLine":101,"endColumn":8,"suggestions":"120"},{"ruleId":"121","severity":1,"message":"122","line":7,"column":47,"nodeType":"123","messageId":"124","endLine":7,"endColumn":49},"no-native-reassign",["125"],"no-negated-in-lhs",["126"],"@typescript-eslint/no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'FormControl' is defined but never used.","'IconButton' is defined but never used.","'Input' is defined but never used.","'InputAdornment' is defined but never used.","'InputLabel' is defined but never used.","'Visibility' is defined but never used.","'VisibilityOff' is defined but never used.","'clsx' is defined but never used.","'Form' is assigned a value but never used.","'classes' is assigned a value but never used.","'showPassword' is assigned a value but never used.","'setShowPassword' is assigned a value but never used.","'handleChange' is assigned a value but never used.","'handleSubmit' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'setUserProfile'. Either include them or remove the dependency array.","ArrayExpression",["127"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-global-assign","no-unsafe-negation",{"desc":"128","fix":"129"},"Update the dependencies array to be: [history, setUserProfile]",{"range":"130","text":"131"},[2959,2961],"[history, setUserProfile]"]